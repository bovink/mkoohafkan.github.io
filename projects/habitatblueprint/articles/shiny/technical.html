<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Technical Details • habitatblueprint</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/paper/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="../../pkgdown.css" rel="stylesheet">
<script src="../../jquery.sticky-kit.min.js"></script><script src="../../pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../../index.html">habitatblueprint</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../../articles/shiny/welcome.html">Welcome</a>
</li>
<li>
  <a href="../../articles/shiny/data.html">Data</a>
</li>
<li>
  <a href="../../articles/shiny/habitat.html">Habitat</a>
</li>
<li>
  <a href="../../articles/shiny/technical.html">Technical</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/mkoohafkan/habitatblueprint">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>Technical Details</h1>
            
          </div>

    
    
<div class="contents">
<p>All data is processed using the <a href="https://www.github.com/mkoohafkan/rremat"><code>rremat</code> package</a> developed by the author. Please review the package documentation for specific information on processing algorithms.</p>
<div id="interpolating-water-quality-data" class="section level3">
<h3 class="hasAnchor">
<a href="#interpolating-water-quality-data" class="anchor"></a>Interpolating Water Quality Data</h3>
<p>Water quality data is available for 12 key locations in the estuary. These locations were periodically sampled using a CTD profiler, which provides high-resolution vertical profiles of key water quality parameters. This data constitutes a data transect that can be interpolated to produce the water quality grids. Interpolation was performed using the Natural Neighbor Interpolation algorithm provided by Matlab and the grids were referenced to the segment delineations by assigning the segment identifier to each sampling location.</p>
<div class="figure">
<img src="samplelocations.png" alt="CTD profile sampling locations"><p class="caption">CTD profile sampling locations</p>
</div>
</div>
<div id="computing-estuary-volume" class="section level3">
<h3 class="hasAnchor">
<a href="#computing-estuary-volume" class="anchor"></a>Computing Estuary Volume</h3>
<p>Estuary volume computations are derived from the 2009 bathymetry raster and a manual delineation of of the estuary thalweg using ArcMap. The thalweg was traced by manually tweaking the raster symbology to visually accentuate the high bank lines and the river thalweg; the thalweg was then traced visually by manually placing a series of points using the editor toolbar. This irregular point series was converted to a polyline representing the thalweg, after which the Construct Points tool was used to place equally-spaced points along the polyline with an interval of 100 meters. The polyline endpoint closest to the estuary mouth was defined as river distance 0, while the upstream-most endpoint of the polyline was assigned a river distance of 12200, i.e. 12.2 km upstream of the estuary mouth. This series of points was then used as input to the Euclidian Distance Allocation tool to assign each cell in the bathymetry raster the distance associated with the nearest point along the thalweg; in this way, the estuary was subdivided into 122 segments as shown below.</p>
<div class="figure">
<img src="bathyzones.png" alt="Bathymetry raster with and segment delineations"><p class="caption">Bathymetry raster with and segment delineations</p>
</div>
<p>To speed up estuary volume calculations, the bathymetry raster was preprocessed by first rounding each raster cell value to the nearest 0.1 meters, and then counting the number of cells of each unique elevation in each segment to convert the raster to a flat table. Estuary volume was computed in 0.1-meter depth slices for water surface elevations ranging from -15.8 meters to +2.6 meters NGVD29 by counting the number of cells inundated in each segment for each depth interval and each water surface interval; furthermore, the number of inundated cells in each segment were subdivided according the foraging habitat categories described by the Water Quality Parameter and Habitat Productivity Technical Group. These counts were then multiplied by the bathymetry raster resolution to obtain water volumes. The stage-volume curve of the estuary for all foraging habitat categories are shown below.</p>
<div class="figure">
<img src="stagevolume.png" alt="Estuary volume by foraging habitat category"><p class="caption">Estuary volume by foraging habitat category</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Michael Koohafkan.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
